{"ast":null,"code":"var _jsxFileName = \"/home/raksr/Desktop/blinkist/src/components/organisms/explore/Explore.js\",\n    _s = $RefreshSig$();\n\nimport { Grid, makeStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport ImageCard from '../ImageCard/ImageCard';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  header: {\n    paddingTop: 40,\n    paddingBottom: 20,\n    paddingLeft: 15\n  },\n  tabs: {\n    paddingTop: 20,\n    paddingBottom: 40,\n    paddingLeft: 15\n  },\n  imagegrid: {\n    paddingLeft: 15\n  },\n  result: {\n    paddingLeft: 15\n  }\n}));\nexport default function Explore({\n  category,\n  search\n}) {\n  _s();\n\n  const [Books, setBooks] = useState([]);\n  const [searchedBooks, setSearchedBooks] = useState([]);\n  const [searchVal, setSearchVal] = useState(search);\n  console.log(\"In explore \", searchVal);\n\n  const fetchBooks = () => {\n    const axios = require('axios');\n\n    axios.get('http://localhost:8080/books').then(resp => {\n      var data = resp.data;\n      console.log(data);\n      setBooks(data);\n\n      if (search === \"\") {\n        setSearchedBooks(data);\n      } else {\n        searchBooks(data, search);\n      }\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    console.log(\"Executing fetch\");\n    fetchBooks();\n  }, []);\n\n  const searchBooks = (data, searchVal) => {\n    var temp = [];\n    console.log(\"books\", data);\n    if (searchVal === \"\") temp = data.slice();\n    data.map(book => {\n      var title = book.title.toUpperCase();\n      var author = book.author.toUpperCase();\n      var val = searchVal.toUpperCase();\n      console.log(searchVal);\n\n      if (title.includes(val) || author.includes(val)) {\n        temp.push(book);\n      }\n    });\n    console.log(\"Searched Books\", temp);\n    setSearchedBooks(temp);\n  };\n\n  if (searchVal !== search) {\n    setSearchVal(search);\n    searchBooks(Books, search);\n  } //  searchBooks(Books,search)\n\n\n  const handleStatus = id => {\n    console.log(\"Marked as completed \" + id);\n    const len = Books.length;\n    const temp = Books.slice();\n\n    for (var i = 0; i < len; i++) {\n      if (temp[i].id === id) {\n        temp[i].status = true;\n        var book = {\n          \"imageurl\": temp[i].imageurl,\n          \"title\": temp[i].title,\n          \"author\": temp[i].author,\n          \"time\": temp[i].time,\n          \"category\": temp[i].category,\n          \"completed\": temp[i].completed,\n          \"status\": temp[i].status\n        };\n        axios.put('http://localhost:8080/books/' + id, book);\n        console.log(\"Editing in json file as well\");\n        break;\n      }\n    }\n\n    setBooks(temp);\n  };\n\n  console.log(searchedBooks);\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.header,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Explore\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this), searchedBooks.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.result,\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"No Results!!!!!!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 74\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 42\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.imagegrid,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: searchedBooks.map(book => (book.category === category || category === \"all\") && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          sm: 6,\n          children: [book.status === false && /*#__PURE__*/_jsxDEV(ImageCard, {\n            btnlabel: \"Add To Library\",\n            id: book.id,\n            title: book.title,\n            imageurl: book.imageurl,\n            time: book.time,\n            author: book.author,\n            onClick: handleStatus\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), book.status === true && /*#__PURE__*/_jsxDEV(ImageCard, {\n            btnlabel: \"\",\n            id: book.id,\n            title: book.title,\n            imageurl: book.imageurl,\n            time: book.time,\n            author: book.author,\n            onClick: handleStatus\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 13\n          }, this)]\n        }, book.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Explore, \"QMA9nTOeooVlD7gZKzL/HdF0K68=\", false, function () {\n  return [useStyles];\n});\n\n_c = Explore;\n\nvar _c;\n\n$RefreshReg$(_c, \"Explore\");","map":{"version":3,"sources":["/home/raksr/Desktop/blinkist/src/components/organisms/explore/Explore.js"],"names":["Grid","makeStyles","React","useEffect","useState","ImageCard","axios","useStyles","theme","header","paddingTop","paddingBottom","paddingLeft","tabs","imagegrid","result","Explore","category","search","Books","setBooks","searchedBooks","setSearchedBooks","searchVal","setSearchVal","console","log","fetchBooks","require","get","then","resp","data","searchBooks","catch","error","temp","slice","map","book","title","toUpperCase","author","val","includes","push","handleStatus","id","len","length","i","status","imageurl","time","completed","put","classes"],"mappings":"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","sourcesContent":["\nimport {  Grid,  makeStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react'\nimport ImageCard from '../ImageCard/ImageCard';\nimport axios from 'axios';\n\nconst useStyles = makeStyles(theme => ({\n   \n    header:\n    {\n        paddingTop:40,\n        paddingBottom:20,\n        paddingLeft:15\n    },\n    tabs:{\n        paddingTop:20,\n        paddingBottom:40,\n        paddingLeft:15\n\n    },\n    imagegrid:\n    {\n        paddingLeft:15\n    },\n    result:{\n        paddingLeft:15        \n\n    }\n    }\n\n  ));\n\nexport default function Explore({category,search})\n{\n    const [Books,setBooks]=useState([])\n    const [searchedBooks,setSearchedBooks]=useState([])\n    const [searchVal,setSearchVal]=useState(search)\n   \n    console.log(\"In explore \",searchVal)\n    \n    \n    const fetchBooks=()=>\n    {\n        const axios = require('axios');\n        axios.get('http://localhost:8080/books')\n            .then(resp => {\n                var data = resp.data;\n                console.log(data)\n                setBooks(data)\n                if(search===\"\")\n                    {setSearchedBooks(data)}\n                else\n                {searchBooks(data,search);}\n                \n            })\n            .catch(error => {\n                console.log(error);\n            });    \n    }\n    useEffect(()=>{console.log(\"Executing fetch\");fetchBooks();},[])\n    const searchBooks=(data,searchVal)=>\n    {\n        var temp=[]\n        console.log(\"books\",data)\n        if(searchVal===\"\")\n            temp=data.slice()\n        data.map((book)=>{\n            var title=book.title.toUpperCase();\n            var author=book.author.toUpperCase();\n            var val=searchVal.toUpperCase();\n            console.log(searchVal)\n            if(title.includes(val) || author.includes(val))\n            {\n                temp.push(book)\n            }\n\n        })\n        console.log(\"Searched Books\",temp)\n        setSearchedBooks(temp)\n    }\n    if(searchVal!==search)\n    {\n        setSearchVal(search)\n        searchBooks(Books,search)\n    }\n    \n  //  searchBooks(Books,search)\n    const handleStatus=(id)=>\n    {\n      console.log(\"Marked as completed \"+id);\n      const len=Books.length\n      const temp=Books.slice()\n      for(var i=0;i<len;i++)\n      {\n          if(temp[i].id===id)\n        {\n            temp[i].status=true;\n            var book={\n                \"imageurl\":temp[i].imageurl,\n                \"title\":temp[i].title,\n                \"author\":temp[i].author,\n                \"time\":temp[i].time,\n                \"category\":temp[i].category,\n                \"completed\":temp[i].completed,\n                \"status\":temp[i].status\n            }\n            axios.put('http://localhost:8080/books/'+id,book)\n            console.log(\"Editing in json file as well\");\n            break\n        }\n      }\n      setBooks(temp);\n\n    }\n\n    console.log(searchedBooks)\n    const classes=useStyles()\n    return(\n        <div >\n            <div className={classes.header}>\n            <h1>Explore</h1>\n            </div>\n            {searchedBooks.length===0 && <div className={classes.result}><h2>No Results!!!!!!!</h2></div>}\n            <div className={classes.imagegrid}>\n            <Grid container spacing={2}>\n\n            {searchedBooks.map((book)=>( (book.category===category || category===\"all\") &&\n            <Grid item xs={12} md={4} sm={6} key={book.id}>\n            {book.status===false &&\n            <ImageCard btnlabel= \"Add To Library\" key={book.id} id={book.id} title={book.title} imageurl={book.imageurl} time={book.time} author={book.author} onClick={handleStatus}/>\n            }\n            {book.status===true &&\n            <ImageCard btnlabel= \"\" key={book.id} id={book.id} title={book.title} imageurl={book.imageurl} time={book.time} author={book.author} onClick={handleStatus}/>\n            }\n            </Grid>\n            )\n        )}\n            </Grid>\n            </div>\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}