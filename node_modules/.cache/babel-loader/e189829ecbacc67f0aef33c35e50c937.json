{"ast":null,"code":"var _jsxFileName = \"/home/raksr/Desktop/blinkist/src/components/organisms/Library/Library.js\",\n    _s = $RefreshSig$();\n\nimport { Grid, makeStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport LibraryTabs from '../../molecules/AppBar/LibraryTabs.js/LibraryTabs';\nimport ImageCard from '../ImageCard/ImageCard';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  header: {\n    paddingTop: 40,\n    paddingBottom: 20,\n    paddingLeft: 15\n  },\n  tabs: {\n    paddingTop: 20,\n    paddingBottom: 40,\n    paddingLeft: 15\n  },\n  imagegrid: {\n    paddingLeft: 15\n  }\n}));\nexport default function Library() {\n  _s();\n\n  const [Books, setBooks] = useState([]);\n  const [value, setValue] = useState(0);\n\n  const fetchBooks = () => {\n    const axios = require('axios');\n\n    axios.get('http://localhost:8080/books').then(resp => {\n      var data = resp.data;\n      console.log(data);\n      setBooks(data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    fetchBooks();\n  }, []);\n\n  const handleCompleted = id => {\n    console.log(\"Marked as completed \" + id);\n    const len = Books.length;\n    const temp = Books.slice();\n\n    for (var i = 0; i < len; i++) {\n      if (temp[i].id === id) {\n        temp[i].completed = !temp[i].completed;\n        var book = {\n          \"imageurl\": temp[i].imageurl,\n          \"title\": temp[i].title,\n          \"author\": temp[i].author,\n          \"time\": temp[i].time,\n          \"category\": temp[i].category,\n          \"completed\": temp[i].completed,\n          \"status\": temp[i].status\n        };\n        axios.put('http://localhost:8080/books/' + id, book);\n        console.log(\"Editing in json file as well\");\n        break;\n      }\n    }\n\n    setBooks(temp);\n  };\n\n  const handleTabs = (event, val) => {\n    console.log(val);\n    setValue(val);\n  };\n\n  const classes = useStyles();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.header,\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"My Library\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.tabs,\n      children: /*#__PURE__*/_jsxDEV(LibraryTabs, {\n        onChange: handleTabs,\n        value: value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.imagegrid,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: [Books.map(book => book.completed === false && value === 0 && book.status === true && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(ImageCard, {\n            btnlabel: \"Mark As Completed\",\n            id: book.id,\n            title: book.title,\n            imageurl: book.imageurl,\n            time: book.time,\n            author: book.author,\n            onClick: handleCompleted\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this)\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }, this)), Books.map(book => book.completed === true && value === 1 && book.status === true && /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          md: 4,\n          sm: 6,\n          children: /*#__PURE__*/_jsxDEV(ImageCard, {\n            btnlabel: \"Re-Visit\",\n            id: book.id,\n            title: book.title,\n            imageurl: book.imageurl,\n            time: book.time,\n            author: book.author,\n            onClick: handleCompleted\n          }, book.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 13\n          }, this)\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 86,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Library, \"bfDyOS2R/7wg2ypnK+xCqmpXNvk=\", false, function () {\n  return [useStyles];\n});\n\n_c = Library;\n\nvar _c;\n\n$RefreshReg$(_c, \"Library\");","map":{"version":3,"sources":["/home/raksr/Desktop/blinkist/src/components/organisms/Library/Library.js"],"names":["Grid","makeStyles","React","useEffect","useState","LibraryTabs","ImageCard","axios","useStyles","theme","header","paddingTop","paddingBottom","paddingLeft","tabs","imagegrid","Library","Books","setBooks","value","setValue","fetchBooks","require","get","then","resp","data","console","log","catch","error","handleCompleted","id","len","length","temp","slice","i","completed","book","imageurl","title","author","time","category","status","put","handleTabs","event","val","classes","map"],"mappings":"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","sourcesContent":["\nimport {  Grid,  makeStyles } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react'\nimport LibraryTabs from '../../molecules/AppBar/LibraryTabs.js/LibraryTabs';\nimport ImageCard from '../ImageCard/ImageCard';\nimport axios from 'axios';\n\nconst useStyles = makeStyles(theme => ({\n   \n    header:\n    {\n        paddingTop:40,\n        paddingBottom:20,\n        paddingLeft:15\n    },\n    tabs:{\n        paddingTop:20,\n        paddingBottom:40,\n        paddingLeft:15\n\n    },\n    imagegrid:\n    {\n        paddingLeft:15\n    }\n    }\n  ));\n\nexport default function Library()\n{\n    const [Books,setBooks]=useState([])\n    const [value,setValue]=useState(0)\n    const fetchBooks=()=>\n    {\n        const axios = require('axios');\n\n        axios.get('http://localhost:8080/books')\n            .then(resp => {\n                var data = resp.data;\n                console.log(data)\n                setBooks(data)\n            })\n            .catch(error => {\n                console.log(error);\n            });    \n    }\n    useEffect(()=>{fetchBooks()},[])\n   \n    \n    const handleCompleted=(id)=>\n    {\n      console.log(\"Marked as completed \"+id);\n      const len=Books.length\n      const temp=Books.slice()\n      for(var i=0;i<len;i++)\n      {\n          if(temp[i].id===id)\n        {\n            temp[i].completed=(!temp[i].completed);\n            var book={\n                \"imageurl\":temp[i].imageurl,\n                \"title\":temp[i].title,\n                \"author\":temp[i].author,\n                \"time\":temp[i].time,\n                \"category\":temp[i].category,\n                \"completed\":temp[i].completed,\n                \"status\":temp[i].status\n            }\n            axios.put('http://localhost:8080/books/'+id,book)\n            console.log(\"Editing in json file as well\");\n            break\n        }\n      }\n      setBooks(temp);\n\n    }\n\n  \n    const handleTabs=(event,val)=>\n    {\n        console.log(val)\n        setValue(val)\n    }\n    const classes=useStyles()\n    return(\n        <div >\n            <div className={classes.header}>\n            <h1>My Library</h1>\n            </div>\n            <div className={classes.tabs}>\n            <LibraryTabs onChange={handleTabs} value={value}/>\n            </div>\n            <div className={classes.imagegrid}>\n            <Grid container spacing={2}>\n\n            {Books.map((book)=>(book.completed===false && value===0 && book.status===true &&\n            <Grid item xs={12} md={4} sm={6} key={book.id}>\n            <ImageCard btnlabel=\"Mark As Completed\" key={book.id} id={book.id} title={book.title} imageurl={book.imageurl} time={book.time} author={book.author} onClick={handleCompleted}/>\n           \n            </Grid>\n            )\n        )}\n                    {Books.map((book)=>(book.completed===true && value===1 && book.status===true &&\n            <Grid item xs={12} md={4} sm={6} key={book.id}>\n            <ImageCard btnlabel=\"Re-Visit\" key={book.id} id={book.id} \n            title={book.title} imageurl={book.imageurl} time={book.time} author={book.author} onClick={handleCompleted} />\n           \n            </Grid>\n            )\n        )}\n            </Grid>\n            </div>\n        </div>\n    )\n\n}"]},"metadata":{},"sourceType":"module"}